import{u as v,r as i,j as e,R as m,C as s,I as p,L as F,T,b as _}from"./index-D-npGLHc.js";import{L as k}from"./LoginImage-gcm7sRqe.js";import{F as c}from"./FormInput-dsZ3_Dxa.js";import{P as L,s as U}from"./apiConfig-B-um9kQa.js";import{F as g}from"./index-BqX5Bx2J.js";import{B as A}from"./button-CqA7Y-CK.js";import"./SearchOutlined-COZHXiQT.js";const M=(r,d,o)=>async l=>{await l({type:"REGISTER_USER"}),L("/registration",r).then(n=>(l({type:"REGISTER_USER_SUCCESS",payload:{data:n==null?void 0:n.data}}),d&&d(n))).catch(n=>(l({type:"REGISTER_USER_FAILED"}),o&&o(n)))},{Text:u}=T,J=()=>{const[r]=g.useForm(),d=v(),[o,l]=U.useMessage(),[n,x]=i.useState(null),[y,j]=i.useState(null),[z,f]=i.useState(null),[C,w]=i.useState(null),[S,P]=i.useState(null),E=t=>{x(t.target.value)},H=t=>{j(t.target.value)},N=t=>{f(t.target.value)},b=t=>{w(t.target.value)},I=t=>{P(t.target.value)},R=()=>{const t={email:n,password:y,first_name:C,last_name:S};r.getFieldsValue(),d(M(t,a=>{o.open({type:"success",content:a==null?void 0:a.message}),r.resetFields()},a=>{o.open({type:"error",content:a})}))};return e.jsxs(e.Fragment,{children:[l,e.jsx(g,{form:r,layout:"vertical",onFinish:R,children:e.jsxs(m,{style:{height:"85vh",justifyContent:"center",alignItems:"center"},children:[e.jsx(s,{span:12,children:e.jsx(m,{style:{justifyContent:"center"},children:e.jsx(s,{span:12,children:e.jsxs(m,{gutter:[24,24],style:{justifyContent:"center",alignContent:"center"},children:[e.jsxs(s,{span:24,style:{display:"flex",gap:"12px",justifyContent:"center",alignItems:"center"},children:[e.jsx(p,{src:F,preview:!1}),e.jsx(u,{style:{fontSize:"18px",fontWeight:"bold"},children:"SIMS PPOB"})]}),e.jsx(s,{span:18,style:{display:"flex",justifyContent:"center",alignContent:"center"},children:e.jsx(u,{style:{fontSize:"24px",textAlign:"center",fontWeight:"600"},children:"Masuk atau buat akun untuk memulai"})}),e.jsx(s,{span:24,children:e.jsxs(m,{gutter:[0,12],children:[e.jsx(s,{span:24,children:e.jsx(c,{name:"Email",debounceChangeHandler:E})}),e.jsx(s,{span:24,children:e.jsx(c,{name:"User Name",debounceChangeHandler:b,formName:"firstName",placeHolder:"Input your first name"})}),e.jsx(s,{span:24,children:e.jsx(c,{name:"User Name",debounceChangeHandler:I,formName:"lastName",placeHolder:"Input your last name"})}),e.jsx(s,{span:24,children:e.jsx(c,{name:"Password",debounceChangeHandler:H,formName:"password",rules:[{required:!0,message:"Please input your password"},{min:8,message:"Password must be at least 8 character"}]})}),e.jsx(s,{span:24,children:e.jsx(c,{name:"Password",debounceChangeHandler:N,formName:"confirmPassword",rules:[{required:!0,message:"Please confirm your password"},({getFieldValue:t})=>({validator(a,h){return!h||t("password")===h?Promise.resolve():Promise.reject(new Error("Password tidak sama"))}})]})})]})}),e.jsx(s,{span:24,children:e.jsx(A,{size:"large",type:"primary",style:{width:"100%"},htmlType:"submit",children:"Masuk"})}),e.jsx(s,{span:24,style:{justifyContent:"center",alignContent:"center",display:"flex"},children:e.jsxs(u,{type:"grey",style:{textAlign:"center",fontWeight:"500"},children:["Sudah punya akun? login ",e.jsxs(_,{to:"/login",children:[" ",e.jsx(u,{type:"red",children:"di sini"})]})]})})]})})})}),e.jsx(s,{span:12,style:{display:"flex",justifyContent:"center",alignContent:"center",backgroundColor:"blue"},children:e.jsx(p,{height:"100vh",width:"100%",src:k,preview:!1,style:{objectFit:"cover"}})})]})})]})};export{J as default};
